---

import MainLayout from "../layouts/MainLayouts.astro"
import Header from "../components/Header.astro"

import TextImageGridData from "../components/TextImageGridData.astro"

import InstallationResult from "../components/InstallationResult.astro"

import FooterContact from "../components/FooterContact.astro"
---

<body>
	<MainLayout>
		<Header currentPage="installations"/>
    <div class="single-view installations">
		  
      <div class="grid_1_1-2">

        <div class="event_hero">
          <img class="hero_image" src="" alt="">
        </div>

        <div class="text-image">
          <TextImageGridData/>
        </div>

      </div>

      <h2>Hover over the images to see how a drawing becomes an installation.</h2>

      <div class="installations-grid">
        <InstallationResult drawingImg="public/Installations/installations_før1.png" resultImg="public/Installations/installations_efter1.png"/>
        <InstallationResult drawingImg="public/Installations/installations_før2.png" resultImg="public/Installations/installations_efter2.png"/>
        <InstallationResult drawingImg="public/Installations/installations_før3.png" resultImg="public/Installations/installations_efter3.png"/>
      </div>
    </div>
      
		<FooterContact/>
	</MainLayout>	
</body>

<script>


const urlParams = new URLSearchParams(window.location.search);
const id = urlParams.get("id");



fetch(`https://ctlcisrydaldajnrvqdf.supabase.co/rest/v1/rhod_flowers?id=eq.${id}`, {
  method: "GET",
  headers: {
    apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0bGNpc3J5ZGFsZGFqbnJ2cWRmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU2OTM0MTYsImV4cCI6MjAzMTI2OTQxNn0.TCoM-Tn4YqUzGvlq4dD7yyxrrihtZwJcT1QkNriiias",
  },
})
  .then((response) => response.json())
  .then((data) => category(data));

// Single-product
function category(singleCategory) {
  console.log(singleCategory);
  const single = singleCategory[0];
  
  document.querySelector(".firstWord").textContent = single.firstWord;

  document.querySelector(".firstSection").textContent = single.firstSection;

  document.querySelector(".secoundSection").textContent = single.secoundSection;

  document.querySelector(".thirdSection").textContent = single.thirdSection;

  document.querySelector(".single_former").src = single.single_view_former;

  document.documentElement.style.setProperty('--imgUrl', `url(${single.single_view_former})`);

  document.querySelector(".hero_image").src = single.shop;

}

</script>

<style> 

  /*
  * Styling rykket ind til style.css ellers virker det ikke?
  */

  .installations-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
  }

  h2 {
    text-align: center;
  }
  
  @media (max-width: 800px) {
    h2 {
      display: none;
    }
    .installations-grid {
      grid-template-columns: 1fr;
    }
  }

  
  </style>