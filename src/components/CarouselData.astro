<div class="slideshow-container-data">
  <div class="slides"></div>
  <button class="slider-button prev" onclick="plusSlides(-1)"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"> <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/> </svg></button>
  <button class="slider-button next" onclick="plusSlides(1)"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"> <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"/> </svg></button>
</div>

<style>
.slideshow-container-data {
  position: relative;
  width: 100%;
  max-width: var(--content);
  margin: 0 auto;
  margin-bottom: 40px;
}


.slides {
  display: flex;
  max-width: 900px;
  margin: 0 auto;
  height: 300px;
}


.slider-button {
  position: absolute;
  border: 0;
  background: inherit;
  font-size: 30px;
  top: 150px;
}


.slider-button svg {
  color: var(--primary-color);
  height: 40px;
}

.slider-button:hover svg {
    cursor: pointer;
    animation: pulse 1s infinite
}

.prev {
    left: 10px; 
    transform: rotate(90deg);
}

.next {
    right: 10px;   
    transform: rotate(-90deg);
}
.slides img {
  width: 100%;
  height: 500px;
  object-fit: cover;
  display: none;
}


@media (max-width: 800px) {  
    .slideshow-container-data .slides {
    height: 160px;
  }

  .slider-button {
    top: 70px;
  }
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
  
  const urlParams = new URLSearchParams(window.location.search);
  const id = urlParams.get("id");

  fetch(`https://ctlcisrydaldajnrvqdf.supabase.co/rest/v1/rhod_flowers?id=eq.${id}`, {
      method: "GET",
      headers: {
        apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0bGNpc3J5ZGFsZGFqbnJ2cWRmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU2OTM0MTYsImV4cCI6MjAzMTI2OTQxNn0.TCoM-Tn4YqUzGvlq4dD7yyxrrihtZwJcT1QkNriiias",
      },
  })
  .then((response) => response.json())
  .then((data) => {
     
      const single = data[0];
      const eventHeroContainer = document.querySelector(".slides");

      eventHeroContainer.innerHTML = '';

      single.collage.forEach((imageUrl) => {

          const img = document.createElement("img");

          img.src = imageUrl;

          eventHeroContainer.appendChild(img);
      });

      let slideIndex = 0;
      showSlides(slideIndex);

      function showSlides(n) {
          const slides = document.querySelectorAll('.slides img');
          if (slides.length === 0) return; 
          if (n >= slides.length) slideIndex = 0;
          if (n < 0) slideIndex = slides.length - 1;
          slides.forEach((slide) => {
              slide.style.display = "none";
          });
          slides[slideIndex].style.display = "block";
      }

      window.plusSlides = function(n) {
          showSlides(slideIndex += n);
      }
  });
});
</script>
